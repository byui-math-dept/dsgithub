<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to create class repos • github335</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How to create class repos">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">github335</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/creating-repos.html">How to create class repos</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hathawayj/github335">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="creating-repos_files/header-attrs-2.1.2/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>How to create class repos</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hathawayj/github335/blob/master/vignettes/creating-repos.Rmd"><code>vignettes/creating-repos.Rmd</code></a></small>
      <div class="hidden name"><code>creating-repos.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(github335)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(googlesheets4)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(gh)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(RVerbalExpressions)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyverse)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(stringr)</span></code></pre></div>
<div id="setting-up" class="section level2">
<h2 class="hasAnchor">
<a href="#setting-up" class="anchor"></a>Setting Up</h2>
<p>First we will need to define a few varaibles.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>semester_id &lt;-<span class="st"> "sp20"</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>creator_email &lt;-<span class="st"> "hathawayj@gmail.com"</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">### Will need to make a generic one </span><span class="al">###</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>google_sheet_githubnames &lt;-<span class="st"> "https://docs.google.com/spreadsheets/d/13aQsQYnGTQXyyBUGzE1V9MExEvG5woAmygtkdjltdjk/edit#gid=730524628"</span></span></code></pre></div>
<p>Then fix a gh function and create a few more varaibles for the script</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>semester_name &lt;-<span class="st"> </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_c.html">str_c</a></span>(<span class="st">"student_"</span>, semester_id)</span>
<span id="cb3-2"><a href="#cb3-2"></a>ta_name &lt;-<span class="st"> </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_c.html">str_c</a></span>(<span class="st">"ta_"</span>, semester_id)</span>
<span id="cb3-3"><a href="#cb3-3"></a>semester_id_upper &lt;-<span class="st"> </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/case.html">str_to_upper</a></span>(semester_id)</span></code></pre></div>
</div>
<div id="creating-cohort-information" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-cohort-information" class="anchor"></a>Creating cohort information</h2>
<p>First create the ta and the student group for the semester. Then get the GitHub ids for each team.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">dwv_create_groups</span>(<span class="dt">semester_name =</span> semester_name, <span class="dt">ta_name =</span> ta_name) </span>
<span id="cb4-2"><a href="#cb4-2"></a>teams &lt;-<span class="st"> </span><span class="kw">dwv_get_teams</span>(<span class="dt">semester_name =</span> semester_name, <span class="dt">ta_name =</span> ta_name) </span>
<span id="cb4-3"><a href="#cb4-3"></a>students_team_id &lt;-<span class="st"> </span><span class="kw">pull</span>(teams,students_team_id)</span>
<span id="cb4-4"><a href="#cb4-4"></a>ta_team_id &lt;-<span class="st"> </span><span class="kw">pull</span>(teams, ta_team_id)</span></code></pre></div>
</div>
<div id="updating-with-one-new-student" class="section level2">
<h2 class="hasAnchor">
<a href="#updating-with-one-new-student" class="anchor"></a>Updating with one new student</h2>
<p>We assume that a tibble object is created for the new student and that all groups have been created for the current semester.</p>
<ul>
<li>Student: Their name in First Last format with a space between first and last.</li>
<li>BYUI Email: A BYU-I email. Although not used much in the process so it can be empty.</li>
<li>gitName: The github username.</li>
<li>description: The description you want to use with the new repo. Currently ‘MCS 335 repository for [NAME] coursework’</li>
<li>has_ghname:</li>
<li>name: The name of the github repo. Currently of this format. ’M335_SP20_[LASTNAME]_[FIRSTFEWOFFIRSTNAME]’</li>
</ul>
<table class="table">
<colgroup>
<col width="9%">
<col width="16%">
<col width="8%">
<col width="38%">
<col width="9%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Student</th>
<th align="left">BYUI Email</th>
<th align="left">gitName</th>
<th align="left">description</th>
<th align="left">has_ghname</th>
<th align="left">name</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">J Hathaway</td>
<td align="left"><a href="mailto:hathawayj@byui.edu" class="email">hathawayj@byui.edu</a></td>
<td align="left">hathawayj</td>
<td align="left">MCS 335 repository for J Hathaway coursework</td>
<td align="left">TRUE</td>
<td align="left">M335_SP20_Hathaway_J</td>
</tr></tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>one_student &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/structure.html">structure</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">Student =</span> <span class="st">"J Hathaway"</span>, <span class="st">`</span><span class="dt">BYUI Email</span><span class="st">`</span> =<span class="st"> "hathawayj@byui.edu"</span>, </span>
<span id="cb5-2"><a href="#cb5-2"></a>    <span class="dt">gitName =</span> <span class="st">"hathawayj"</span>, <span class="dt">description =</span> <span class="st">"MCS 335 repository for J Hathaway coursework"</span>, </span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="dt">has_ghname =</span> <span class="ot">TRUE</span>, <span class="dt">name =</span> <span class="st">"M335_SP20_Hathaway_J"</span>), <span class="dt">class =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"tbl_df"</span>, </span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="st">"tbl"</span>, <span class="st">"data.frame"</span>), <span class="dt">row.names =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="ot">NA</span>, <span class="op">-</span>1L))</span></code></pre></div>
<p><strong>Creating Issues:</strong> If you are using GitHub for the students to manage their progress then you will need to create issues and push the tasks into them. It is built to pull informatin from an md file of the <a href="https://byuistats.github.io/M335/tasklist.md">following format</a>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>body_lines =<span class="st"> </span><span class="kw">read_lines</span>(<span class="st">"https://byuistats.github.io/M335/tasklist.md"</span>)</span></code></pre></div>
<p>Use the wrapper <code>dwv_one_student()</code> function with body_lines equal to <code>NULL</code> to not create the issues.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">dwv_one_student</span>(<span class="dt">one_student =</span> one_student, <span class="dt">class_group =</span> <span class="st">"student_sp20"</span>,</span>
<span id="cb7-2"><a href="#cb7-2"></a>                <span class="dt">ta_group =</span> <span class="st">"ta_sp20"</span>, <span class="dt">body_lines =</span> body_lines)</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co"># dwv_delete_github("M335_SP20_Hathaway_J")</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  </span></code></pre></div>
<p>Now run the process for one student using each of the functions.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw">dwv_check_names</span>(one_student)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="kw">dwv_check_repos</span>(one_student)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="kw">dwv_copy_repo</span>(one_student<span class="op">$</span>name, one_student<span class="op">$</span>description)</span>
<span id="cb8-6"><a href="#cb8-6"></a>team_ids &lt;-<span class="st"> </span><span class="kw">dwv_get_teams</span>(<span class="dt">semester_name =</span> <span class="st">"student_sp20"</span>, <span class="dt">ta_name =</span> <span class="st">"ta_sp20"</span>) </span>
<span id="cb8-7"><a href="#cb8-7"></a></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="kw"><a href="../reference/dwv_invite_group.html">dwv_invite_group</a></span>(one_student, <span class="kw">pull</span>(team_ids,students_team_id))</span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="kw"><a href="../reference/dwv_add_student.html">dwv_add_student</a></span>(one_student)</span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="kw">dwv_add_group</span>(one_student, <span class="st">"pull"</span>, <span class="kw">pull</span>(team_ids, students_team_id))</span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="kw">dwv_add_group</span>(one_student, <span class="st">"admin"</span>, <span class="kw">pull</span>(team_ids, ta_team_id))</span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="kw">dwv_remove_watching</span>(one_student) <span class="co"># run authenticad as user.</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="kw">dwv_team_repos</span>(<span class="kw">pull</span>(team_ids, students_team_id))</span>
<span id="cb8-14"><a href="#cb8-14"></a></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="kw">dwv_issue_cs</span>(body_lines, <span class="dt">dat =</span> one_student)</span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="kw">dwv_issue_tasks</span>(body_lines, <span class="dt">dat =</span> one_student)</span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="kw">dwv_issue_semester</span>(body_lines, <span class="dt">dat =</span> one_student)</span></code></pre></div>
</div>
<div id="moving-through-a-tibble-of-students" class="section level2">
<h2 class="hasAnchor">
<a href="#moving-through-a-tibble-of-students" class="anchor"></a>Moving through a tibble of students</h2>
<div id="creating-student-repos" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-student-repos" class="anchor"></a>Creating Student Repos</h3>
<p>First, we need to have the table of student emails and GitHub usernames.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">#drive_auth(email = creator_email)</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw"><a href="https://rdrr.io/pkg/googlesheets4/man/gs4_auth.html">gs4_auth</a></span>(<span class="dt">email =</span> creator_email)</span>
<span id="cb9-3"><a href="#cb9-3"></a>mdf &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/googlesheets4/man/range_read.html">read_sheet</a></span>(google_sheet_githubnames, <span class="dt">sheet =</span> semester_id_upper) <span class="op">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Name =</span> Name <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_trim.html">str_trim</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove_all</a></span>(<span class="st">"</span><span class="ch">\\</span><span class="st">."</span>),</span>
<span id="cb9-5"><a href="#cb9-5"></a>    <span class="st">`</span><span class="dt">BYUI Email</span><span class="st">`</span> =<span class="st"> </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/case.html">str_to_lower</a></span>(<span class="st">`</span><span class="dt">BYUI Email</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="st">      </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace_all</a></span>(<span class="kw"><a href="https://rdrr.io/pkg/RVerbalExpressions/man/rx.html">rx</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="st">                        </span><span class="kw"><a href="https://rdrr.io/pkg/RVerbalExpressions/man/rx_find.html">rx_find</a></span>(<span class="st">"@"</span>) <span class="op">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="st">                        </span><span class="kw"><a href="https://rdrr.io/pkg/RVerbalExpressions/man/rx_anything.html">rx_anything</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="st">                        </span><span class="kw"><a href="https://rdrr.io/pkg/RVerbalExpressions/man/rx_end_of_line.html">rx_end_of_line</a></span>(), <span class="st">"@byui.edu"</span>)) <span class="op">%&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="st">  </span><span class="kw">select</span>(<span class="dt">Student =</span> Name, <span class="st">`</span><span class="dt">BYUI Email</span><span class="st">`</span>, <span class="dt">gitName =</span> <span class="st">`</span><span class="dt">GitHub Username</span><span class="st">`</span>)</span></code></pre></div>
<p>Then we have to check if their GitHub username exits.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>check_names &lt;-<span class="st"> </span><span class="kw">dwv_check_names</span>(mdf)</span>
<span id="cb10-2"><a href="#cb10-2"></a>has_ghname &lt;-<span class="st"> </span>check_names<span class="op">$</span>has_ghname</span>
<span id="cb10-3"><a href="#cb10-3"></a>git_students &lt;-<span class="st"> </span>check_names<span class="op">$</span>git_students</span></code></pre></div>
<p>Now we build the table to create student repositories and check to see if the repos are created.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co">## prepare a data frame to drive repo creation</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>repo_create_df &lt;-<span class="st"> </span>mdf <span class="op">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">description =</span> <span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"MCS 335 repository for"</span>, Student, <span class="st">"coursework"</span>),</span>
<span id="cb11-4"><a href="#cb11-4"></a>         <span class="dt">has_ghname =</span> has_ghname,</span>
<span id="cb11-5"><a href="#cb11-5"></a>         <span class="co"># a bunch of code to build a repo id for each student</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>         <span class="dt">name =</span> <span class="kw"><a href="https://stringr.tidyverse.org/reference/str_c.html">str_c</a></span>(<span class="st">"M335_"</span>, semester_id_upper, <span class="st">"_"</span>,</span>
<span id="cb11-7"><a href="#cb11-7"></a>                      Student <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="st">                        </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split_fixed</a></span>(<span class="st">" "</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="st">                        </span>.[,<span class="dv">2</span>] <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="st">                        </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace_all</a></span>(<span class="st">" "</span>, <span class="st">"_"</span>),</span>
<span id="cb11-11"><a href="#cb11-11"></a>                      <span class="st">"_"</span>,</span>
<span id="cb11-12"><a href="#cb11-12"></a>                      Student <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="st">                        </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split_fixed</a></span>(<span class="st">" "</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>.[,<span class="dv">1</span>] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_sub.html">str_sub</a></span>(<span class="dv">1</span>,<span class="dv">4</span>),</span>
<span id="cb11-14"><a href="#cb11-14"></a>                      <span class="dt">sep =</span> <span class="st">""</span>))</span>
<span id="cb11-15"><a href="#cb11-15"></a></span>
<span id="cb11-16"><a href="#cb11-16"></a>oops &lt;-<span class="st"> </span><span class="kw">dwv_check_repos</span>(repo_create_df)</span></code></pre></div>
<p>Now we create the GitHub repos for the new students that don’t have a repository in their name and have a github username.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># </span></span>
<span id="cb12-2"><a href="#cb12-2"></a>(repo_create_df_new &lt;-<span class="st"> </span>repo_create_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(has_ghname <span class="op">&amp;</span><span class="st"> </span>oops))</span>
<span id="cb12-3"><a href="#cb12-3"></a></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">## This makes the repositories for each student</span></span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co"># purrr::map(repo_create_df_new$name, dwv_delete_github)</span></span>
<span id="cb12-7"><a href="#cb12-7"></a></span>
<span id="cb12-8"><a href="#cb12-8"></a>res &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">map2</a></span>(repo_create_df_new<span class="op">$</span>name, repo_create_df_new<span class="op">$</span>description, dwv_copy_repo)</span>
<span id="cb12-9"><a href="#cb12-9"></a></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="co"># old way if template functionality breaks.  </span></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co"># But this requires cloning the repos to your computer </span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="co"># and then pushing all the files to the repos.</span></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="co"># </span></span>
<span id="cb12-14"><a href="#cb12-14"></a><span class="co">#res &lt;- purrr::map2(repo_create_df_new$name, repo_create_df_new$description, dwv_create_repo)</span></span>
<span id="cb12-15"><a href="#cb12-15"></a></span>
<span id="cb12-16"><a href="#cb12-16"></a><span class="co"># this status just creates </span></span>
<span id="cb12-17"><a href="#cb12-17"></a>status &lt;-<span class="st"> </span>repo_create_df_new <span class="op">%&gt;%</span></span>
<span id="cb12-18"><a href="#cb12-18"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cr_success =</span> <span class="kw">map_lgl</span>(<span class="kw">transpose</span>(res)<span class="op">$</span>result, <span class="kw"><a href="https://rdrr.io/r/base/funprog.html">Negate</a></span>(is.null))) <span class="op">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>description)</span></code></pre></div>
</div>
<div id="sharing-and-permissions" class="section level3">
<h3 class="hasAnchor">
<a href="#sharing-and-permissions" class="anchor"></a>Sharing and Permissions</h3>
<p>Now invite the students to the team for this semester’s class. You will need to invite the TAs to the ta group. The TAs have read write priveledges. The student group only has read permissions.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="../reference/dwv_invite_group.html">dwv_invite_group</a></span>(repo_create_df_new, students_team_id)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw"><a href="../reference/dwv_add_student.html">dwv_add_student</a></span>(repo_create_df_new)</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="kw">dwv_add_group</span>(repo_create_df_new, <span class="st">"pull"</span>, students_team_id)</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="kw">dwv_add_group</span>(repo_create_df_new, <span class="st">"admin"</span>, ta_team_id)</span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="kw">dwv_remove_watching</span>(repo_create_df_new) <span class="co"># run authenticad as user.</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="kw">dwv_team_repos</span>(students_team_id)</span></code></pre></div>
<p>Make sure to add TAs to TA group. Currently done manually <a href="https://github.com/orgs/BYUI335/teams">here</a>.</p>
</div>
<div id="creating-issues" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-issues" class="anchor"></a>Creating Issues</h3>
<p>If you are using GitHub for the students to manage their progress then you will need to create issues and push the tasks into them. It is built to pull informatin from an md file of the <a href="https://byuistats.github.io/M335/tasklist.md">following format</a>.</p>
<p>The below code will push issues to each repository provided in the tibble.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>body_lines =<span class="st"> </span><span class="kw">read_lines</span>(<span class="st">"https://byuistats.github.io/M335/tasklist.md"</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(repo_create_df_new, gitName <span class="op">==</span><span class="st"> "hathawayj"</span>) <span class="op">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="st">  </span><span class="kw">dwv_issue_cs</span>(body_lines, <span class="dt">dat =</span> .)</span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(repo_create_df_new, gitName <span class="op">==</span><span class="st"> "hathawayj"</span>) <span class="op">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="st">  </span><span class="kw">dwv_issue_tasks</span>(body_lines, <span class="dt">dat =</span> .)</span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(repo_create_df_new, gitName <span class="op">==</span><span class="st"> "hathawayj"</span>) <span class="op">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="st">  </span><span class="kw">dwv_issue_semester</span>(body_lines, <span class="dt">dat =</span> .)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#setting-up">Setting Up</a></li>
      <li><a href="#creating-cohort-information">Creating cohort information</a></li>
      <li><a href="#updating-with-one-new-student">Updating with one new student</a></li>
      <li><a href="#moving-through-a-tibble-of-students">Moving through a tibble of students</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
